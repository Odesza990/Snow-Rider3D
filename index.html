<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Snow Rider 3D - Thrilling Skiing Adventure Game</title>
    <meta name="description" content="Immerse yourself in Snow Rider 3D, a thrilling skiing adventure game set in breathtaking mountain landscapes. Ride your sleigh down snowy slopes, dodge obstacles, and collect gifts for an exhilarating experience.">
    <meta name="theme-color" content="#007ACC">
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Your Name">
    <meta name="keywords" content="Snow Rider 3D, skiing game, winter sports, snowboarding, ski game, mountain landscapes, skiing adventure, snowboarding adventure, snowy mountain, sleigh ride, winter game">
    <script>
        // === è¶…æ—©æœŸé˜²æŠ¤ï¼šç›´æ¥ç¦ç”¨ gd-sdk.js å’Œæ¶æ„è·³è½¬ ===
        console.log("ğŸ›¡ï¸ å¯åŠ¨åå¹¿å‘Šè·³è½¬é˜²æŠ¤...");

        // 1. å®Œå…¨ç¦ç”¨ window.open
        window.open = function(url) {
            console.warn("ğŸš« å·²é˜»æ­¢ window.open è·³è½¬åˆ°:", url);
            return {
                focus: function(){}, blur: function(){}, close: function(){},
                closed: false, location: { href: "" }
            };
        };

        // 2. é”å®š window.open
        Object.defineProperty(window, 'open', {
            value: window.open,
            writable: false,
            configurable: false
        });

        // 3. ç›´æ¥é˜»æ­¢ gd-sdk.js è„šæœ¬åŠ è½½
        const originalCreateElement = document.createElement;
        document.createElement = function(tagName) {
            const element = originalCreateElement.call(this, tagName);
            if (tagName.toLowerCase() === 'script') {
                const originalSetAttribute = element.setAttribute;
                element.setAttribute = function(name, value) {
                    if (name === 'src' && (
                        value.includes('gd-sdk.js') ||
                        value.includes('gameDistribution') ||
                        value.includes('cmug') ||
                        value.includes('gitlab.io')
                    )) {
                        console.warn("ğŸš« å·²é˜»æ­¢åŠ è½½æ¶æ„è„šæœ¬:", value);
                        return; // ä¸è®¾ç½® srcï¼Œé˜»æ­¢åŠ è½½
                    }
                    return originalSetAttribute.call(this, name, value);
                };
            }
            return element;
        };

        // 4. æ‹¦æˆª GameDistribution SDK å¯¹è±¡
        window.gdsdk = {
            showAd: function() {
                console.warn("ğŸš« å·²é˜»æ­¢ GameDistribution å¹¿å‘Š");
                return Promise.resolve();
            },
            preloadAd: function() {
                console.warn("ğŸš« å·²é˜»æ­¢ GameDistribution é¢„åŠ è½½");
                return Promise.resolve();
            }
        };

        // 5. å…¨å±€ SDK æ‹¦æˆª
        window.SDK_ShowAd = function() {
            console.warn("ğŸš« å·²é˜»æ­¢ SDK_ShowAd è°ƒç”¨");
            return false;
        };

        console.log("âœ… åå¹¿å‘Šè·³è½¬é˜²æŠ¤å·²æ¿€æ´»");
    </script>
    <script src="TemplateData/UnityProgress.js"></script>
    <script src="Build/UnityLoader.js"></script>
    <script>
        // === æ­£å¸¸æ¸¸æˆåˆå§‹åŒ– ===
        var gameInstance = UnityLoader.instantiate("gameContainer", "Build/SnowRider3D-gd-1.json", {onProgress: UnityProgress,Module:{onRuntimeInitialized: function() {UnityProgress(gameInstance, "complete")}}});
    </script>
</head>
<body style="overflow:hidden;padding:0px;margin:0px;">
    <div class="webgl-content">
        <div id="gameContainer" style="width: 960px; height: 600px; margin: auto"></div>
    </div>
</body>
</html>

